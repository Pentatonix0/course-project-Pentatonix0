# Реестр рисков (Quiz Builder)

Шкала: L (вероятность) 1..5, I (влияние) 1..5, Risk = L×I.

| RiskID | Описание                                        | Поток/Элемент |   L |   I | Risk | Стратегия            | Владелец            | Срок       | Критерий закрытия                                        |
| ------ | ----------------------------------------------- | ------------- | --: | --: | ---: | -------------------- | ------------------- | ---------- | -------------------------------------------------------- |
| R1     | Брутфорс логина (credential stuffing)           | F2            |   4 |   4 |   16 | **Снизить**          | owner-auth          | 2025-10-18 | Rate-limit + account lockout покрыты, e2e 429            |
| R2     | Пароли в базе слабо хэшируются                  | F1/F8         |   1 |   5 |    5 | **Избежать**         | owner-auth          | 2025-10-15 | Применён Argon2id/bcrypt по NFR-SEC-01; тесты параметров |
| R3     | Кража/утечка JWT из-за длинного TTL             | F2/F9         |   3 |   4 |   12 | **Снизить**          | owner-auth          | 2025-10-18 | Access TTL=15m; Refresh=7d; тест exp/alg                 |
| R4     | Несанкционированное редактирование чужих квизов | F7            |   2 |   5 |   10 | **Снизить**          | owner-quizzes       | 2025-10-22 | Guards owner-only; интеграционные тесты → 403            |
| R5     | DoS из-за тяжёлых запросов без лимитов          | F6            |   3 |   4 |   12 | **Снизить**          | owner-core          | 2025-10-25 | Пагинация/лимиты включены; p95 в норме                   |
| R6     | Утечки через ошибки/логи (PII, токены)          | F2/F3         |   2 |   5 |   10 | **Снизить**          | owner-logging       | 2025-10-22 | Негативные тесты 500/401 без Traceback/PII               |
| R7     | Коммиты секретов в репозиторий                  | F10           |   2 |   5 |   10 | **Избежать/Снизить** | owner-repo          | 2025-10-12 | pre-commit detect-private-key + gitleaks=0               |
| R8     | Нарушение целостности DTO (лишние поля)         | F5            |   3 |   3 |    9 | **Снизить**          | owner-api           | 2025-10-20 | DTO `extra=forbid`; 0 успешных кейсов с extra; тесты 422 |
| R9     | Отсутствие аудита критичных действий            | F4/F7         |   2 |   4 |    8 | **Снизить**          | owner-observability | 2025-10-28 | Логи login/logout/CRUD; caplog-тесты                     |
| R10    | Неправильная конфигурация CORS                  | Edge          |   2 |   3 |    6 | **Снизить**          | owner-api           | 2025-10-30 | Разрешены только allow-listed origins; тест заголовков   |

## Связи

-   NFR: см. `docs/security-nfr/NFR.md` (NFR-SEC-01…NFR-SEC-12).
-   Issues/Milestones для митигаторов: **AUTH-RATE-LIMIT**, **AUTH-JWT-TTL-ROTATION**, **API-DTO-STRICT**, **CI-GITLEAKS**, **OBS-AUDIT-LOGS**.
